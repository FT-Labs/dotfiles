#!/bin/zsh

local usage=(
"cget [-h|--help]"
"cget [-g|--get] (log, glshader)"
)

zmodload zsh/zutil
zparseopts -D -E -F -- \
{h,-help}=flag_help \
{g,-get}:=get ||
return 1

[[ -z "$flag_help" ]] || { print -l $usage && return }

if [[ ! -z $get ]]; then
    case ${get[2]} in
        log) wget "https://raw.githubusercontent.com/FT-Labs/c-tools/master/log/log.c" &> /dev/null
             wget "https://raw.githubusercontent.com/FT-Labs/c-tools/master/log/log.h" &> /dev/null ;;
        glshader)
            link='https://raw.githubusercontent.com/FT-Labs/opengl-tools/master/'
            curl "${link}files.txt" | tr " " "\n" | while read f; do wget "${link}$f" &> /dev/null; done;
            rm -r ./files.txt ;;
    esac
fi
